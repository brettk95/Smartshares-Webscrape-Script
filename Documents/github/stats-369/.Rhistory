spread(household_df, key = Year, value = Region)
spread(household_df, key = Year, value = Household.Type)
spread(household_df, key = Year, value = Value)
head(spread(household_df, key = Year, value = Value))
household_spread_df = spread(household_df, key = Year, value = Value)
View(household_spread_df)
View(household_df)
View(household_spread_df)
x = subset(household_spread_df, Measure == "Median Government Transfer Income" & "Median Self-employment Income")
x = subset(household_spread_df, Measure == "Median Government Transfer Income" | "Median Self-employment Income")
typeof(household_spread_df$Measure[1])
household_spread_df$Measure[1]
household_spread_df$Measure = lapply(household_spread_df$Measure, as.character())
household_spread_df$Measure = lapply(household_spread_df$Measure, as.character
household_spread_df$Measure = lapply(household_spread_df$Measure, as.character)
household_spread_df$Measure = lapply(household_spread_df$Measure, as.character)
household_spread_df$Measure[1]
x = subset(household_spread_df, Measure == "Median Government Transfer Income" | "Median Self-employment Income")
x = subset(household_spread_df, Measure == "Median Government Transfter Income")
View(x)
x = household_spread_df[household_spread_df$Measure == "Median Government Transfer Income",]
View(x)
x = household_spread_df[!(household_spread_df$Measure == "Median Government Transfer Income" | "Median Self-employment Income",)]
x = household_spread_df[!(household_spread_df$Measure == "Median Government Transfer Income"),]
View(x)
household_spread_df = household_spread_df[!(household_spread_df$Measure == "Median Government Transfer Income"),]
household_spread_df = household_spread_df[!(household_spread_df$Measure == "Median Self-employment Income"),]
View(household_spread_df)
x = gather(household_spread_df, key = Year, value = Value)
View(x)
help("gather")
x = gather(household_spread_df, key = Value, value = Year)
x = gather(household_spread_df, key = "Year", value = "Value")
x = gather(household_spread_df, key = "Year", value = "Measure")
x = gather(household_spread_df, key = household_spread_df[4:24], value = "Measure")
x = gather(household_spread_df, key = household_spread_df[4:24], value = "Value")
View(x)
household_spread_df[4]
x = gather(household_spread_df, key = year_vector, value = "Value")
x = gather(household_spread_df, key = year_vector, value = "Value")
x = gather(household_spread_df, key = year_vector, value = Value)
x = gather(household_spread_df, key = year_vector, value = "Value")
x = gather(household_spread_df, key = year_vector)
x = gather(household_spread_df, key = '1998','1999','2000','2001','2002','2003','2004','2005','2006','2007','2008','2009','2010','2011','2012','2013','2014','2015','2016','2017','2018', value = "Value")
View(x)
View(x)
col.names(household_spread_df)
col.name(household_spread_df)
colname(household_spread_df)
colnames(household_spread_df)
colnames(household_spread_df[4:])
colnames(household_spread_df[4])
colnames(household_spread_df[4:20])
colnames(household_spread_df[4:24])
colnames(household_spread_df[4:,])
colnames(household_spread_df[4,])
colnames(household_spread_df[5,])
colnames(household_spread_df[20,])
colnames(household_spread_df[4:])
colnames(household_spread_df[4:24])
typeof(colnames(household_spread_df[4:24]))
typeof(c(1,2,3))
y = gather(household_spread_df, key = colnames(household_spread_df[4:24], value = "Value")
a
y = gather(household_spread_df, key = colnames(household_spread_df[4:24]), value = "Value")
y = gather(household_spread_df, key = '1998':'2018', value = "Value")
y = gather(household_spread_df, key = '1998', value = "Value")
y = gather(household_spread_df, key = c('1998':'2018'), value = "Value")
y = gather(household_spread_df, key = household_spread_df['1998';'2018'], value = "Value")
household_spread_df['1998':'2018']
household_spread_df['1998']
household_spread_df[c('1998','2018')]
household_spread_df[c('1998':'2018')]
household_spread_df[c('1998':'2017')]
colnames(household_spread_df)
colnames(household_spread_df['1998'])
colnames(household_spread_df['1998':'2018'])
colnames(household_spread_df['1998':'2000'])
household_df['Region':'Value']
household_df[,'Region':'Value']
household_df['Region':'Value',]
household_df[c('Region':'Value')]
household_df['Region','Value']
household_df[c('Region','Value')]
colnames(household_spread_df)['1998':'2018']
colnames(household_spread_df)
colnames(household_spread_df)['Region']
colnames(household_spread_df)["Region"]
colnames(household_spread_df)[1]
colnames(household_spread_df)[4:]
colnames(household_spread_df)[4:24]
colnames(household_spread_df)[4:24]
typeof(colnames(household_spread_df)[4:24])
typeof(c(colnames(household_spread_df)[4:24]))
typeof(c('a','b'))
colnames(household_spread_df)[4:24]
household_spread_df %>% gather(key = colnames(household_spread_df)[4:24]), value = "Value")
household_spread_df %>% gather(key = colnames(household_spread_df)[4:24], value = "Value")
gather(household_spread_df, colnames(household_spread_df)[4:24], key = "Year", value = "Value")
y = gather(household_spread_df, colnames(household_spread_df)[4:24], key = "Year", value = "Value")
View(y)
View(x)
help("gather")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data.csv")
source('~/github/compsci_369/gather_function.R', echo=TRUE)
View(household_df)
library("tidyr")
library("readr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data.csv")
household_df = household_df[-6]
library("tidyr")
library("readr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-spreading.csv")
View(household_df)
View(household_df)
library("tidyr")
library("readr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-spreading.csv")
household_df = household_df[-6]
x= spread(value = "Year", key = "Value")
library("tidyr")
library("readr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-spreading.csv")
household_df = household_df[-6]
x= spread(household_df, value = "Year", key = "Value")
library("tidyr")
library("readr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-spreading.csv")
household_df = household_df[-6]
x= spread(household_df, key = "Year", value = "Value")
View(x)
help("write.csv")
write.csv(x, file = "C:\\Users\\Bret\\Documents\\github\\compsci_369\\household-data-for-gathering.csv")
write.csv(x, file = "C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv")
View(household_df)
View(household_df)
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
View(household_df)
library("readr")
library("tidyr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
View(household_df)
View(household_df)
x = filter(household_df, c(-"Median Government Transfer Income", -"Median Self-employment Income"))
x = filter(household_df, -c("Median Government Transfer Income", "Median Self-employment Income"))
x = filter(household_df, !c("Median Government Transfer Income", "Median Self-employment Income"))
x = filter(household_df, Measure != c('Median Government Transfer Income','Median Self-employment Income')
x = filter(household_df, Measure != c('Median Government Transfer Income','Median Self-employment Income'))
x = filter(household_df, Measure != c('Median Government Transfer Income','Median Self-employment Income'))
x = filter(household_df, 'Measure' != c('Median Government Transfer Income','Median Self-employment Income'))
household_df %>% filter(Measure != c("Median Self-employment Income"))
help("filter")
household_df$Measure
household_df %>% filter(Measure != c("Median Self-employment Income"))
household_df %>% filter(Measure != "Median Self-employment Income")
household_df %>% filter(household_df$Measure != "Median Self-employment Income")
filter(household_df$Measure != "Median Self-employment Income")
household_df %>% filter(Measure == 'Median Self-employment Income')
library("readr")
library("tidyr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
household_df %>% filter(Measure == 'Median Self-employment Income')
typeof(colnames(household_df))
typeof(colnames(household_df[3]))
View(household_df)
household_df %>% filter('Measure' == 'Median Self-employment Income')
library("readr")
library("tidyr")
library("dplyr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
household_df %>% filter('Measure' == 'Median Self-employment Income')
household_df %>% filter(Measure == 'Median Self-employment Income')
View(household_df)
household_df %>% filter(Measure != c('Median Self-employment Income','Median Government Transfer Income'))
household_df %>% filter(Measure != c('Median Self-employment Income','Median Government Transfer Income')) %>% head()
household_df %>% filter(Measure != c('Median Self-employment Income','Median Government Transfer Income'))
x = household_df %>% filter(Measure != c('Median Self-employment Income','Median Government Transfer Income'))
View(x)
x = household_df %>% filter(Measure == !c('Median Self-employment Income','Median Government Transfer Income'))
x = household_df %>% filter(Measure == -c('Median Self-employment Income','Median Government Transfer Income'))
x = household_df %>% filter(Measure ! %in% c('Median Self-employment Income','Median Government Transfer Income'))
x = household_df %>% filter(!Measure %in% c('Median Self-employment Income','Median Government Transfer Income'))
View(x)
View(x)
library("readr")
library("tidyr")
library("dplyr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
household_df = household_df %>% filter(!Measure %in% c('Median Self-employment Income','Median Government Transfer Income'))
View(household_df)
View(x)
library("tidyr")
library("readr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-spreading.csv")
household_df = household_df[-6]
x = spread(household_df, key = "Year", value = "Value")
View(x)
# use gather() function on data to make it skinny
colnames(household_df)
View(household_df)
library("readr")
library("tidyr")
library("dplyr")
# load the data
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
# do some data manipulation to get rid of rows with all 0's
household_df = household_df %>% filter(!Measure %in% c('Median Self-employment Income','Median Government Transfer Income'))
# use gather() function on data to make it skinny
colnames(household_df)
# use gather() function on data to make it skinny
colnames(household_df)[4:24]
library("readr")
library("tidyr")
library("dplyr")
# load the data
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
# do some data manipulation to get rid of rows with all 0's
household_df = household_df %>% filter(!Measure %in% c('Median Self-employment Income','Median Government Transfer Income'))
## use gather() function on data to make it skinny
# the columsn that we want are:
colnames(household_df)[4:24]
household_df_gathered %>% gather(colnames(household_df)[4:24], key = "Year", value = "Value")
head(household_df_gathered)
library("readr")
library("tidyr")
library("dplyr")
# load the data
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
# do some data manipulation to get rid of rows with all 0's
household_df = household_df %>% filter(!Measure %in% c('Median Self-employment Income','Median Government Transfer Income'))
## use gather() function on data to make it skinny
# the columsn that we want are:
colnames(household_df)[4:24]
household_df_gathered = household_df %>% gather(colnames(household_df)[4:24], key = "Year", value = "Value")
head(household_df_gathered)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
(log_tib %>% arrange(timestamp))
setwd("~/github/stats-369")
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
(log_tib %>% arrange(timestamp))
log_tib %>% group_by(timestamp)
log_tib %>% group_by(timestamp) %>% tally(group)
log_tib %>% group_by(timestamp) %>% summarise(tally(group))
log_tib %>% group_by(group) %>% count(action)
log_tib %>% group_by(timestamp) %>% count(action)
log_tib %>% group_by(timestamp) %>% sum(action)
log_tib %>% group_by(timestamp) %>% count(action) %>% sum(n)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
head(log_tib)
log_tib %>% separate(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
head(log_tib)
log_tib %>% separate_(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
log_tib = log_tib %>% separate(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
head(log_tib)
log_tib %>% group_by(Day) %>% count(action)
values(log_tib$Year)
unique(log_tib$Year)
log_tib %>% filter(Year == '2.01')
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib_sep = log_tib %>% separate(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
log_tib %>% group_by(Day) %>% count(action)
head(log_tib_sep)
unique(log_tib$timestamp)
unique(log_tib_sep$Year)
log_tib %>% filter('2.01' in Year)
log_tib %>% filter('2.01' in "Year")
log_tib %>% filter("2.01" in "Year")
log_tib %>% filter(Year == '2.01')
log_tib %>% filter('Year' == '2.01')
filter(log_tib, '2.01' %in% "Year")
filter(log_tib, '2.01' %in% Year)
filter(log_tib, '2.01' %in% year)
log_tib %>% group_by(Day) %>% count(action)
log_tib_sep %>% group_by(Day) %>% count(action)
unique(log_tib$Year)
unique(log_tib_sep$Year)
colnames(log_tib_sep)
log_tib_sep %>% group_by(session_id) %>% count(action)
log_tib_sep %>% group_by(session_id) %>% filter(!is.na(checkin))
log_tib_sep %>% filter(!is.na(checkin))
log_tib_sep %>% filter(!is.na(checkin)) %>% group_by(session_id)
unique(log_tib_sep$Day)
unique(log_tib_sep$Month)
log_tib %>% filter('2.01' %in% timestamp)
log_tib %>% filter('2.01' %in% log_tib$timestamp)
log_tib %>% filter('2.01' %in% log_tib$timestamp)
unique(log_tib_sep$Year)
log_tib %>% filter('2.01' %in% log_tib$timestamp)
unique(log_tib_sep$Month)
unique(log_tib_sep$Day)
log_tib_sep %>% filter(-'2.01' in Year)
log_tib_sep %>% filter(-'2.01' %in%Year)
log_tib_sep %>% filter(!('2.01' %in% Year))
log_tib_sep %>% filter(-('2.01' %in% Year))
log_tib_sep %>% filter(-('.' %in% Year))
filter(log_tib_sep, !('.' %in% Year))
log_tib_sep = filter(log_tib_sep, !('.' %in% Year))
len(log_tib_sep)
nrows(log_tib_sep)
nrow(log_tib_sep)
nrow(log_tib)
log_tib_sep = filter(log_tib, !('.' %in% timestamp))
nrow(log_tib_sep)
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
filter(log_tib, '.' %in% timestamp)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib_sep = log_tib %>% separate(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
View(log_tib_sep)
log_tib_sep = log_tib %>% separate(timestamp, c('Day', 'Time'), sep = 8)
View(log_tib_sep)
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count(action)
log_tib_sep %>% group_by(session_id, Day) %>% filter(!is.na(checkin)) %>% count(action)
log_tib_sep %>% group_by(session_id, Day) %>% filter(!is.na(checkin)) %>% sum(action)
log_tib_sep %>% group_by(session_id, Day) %>% filter(!is.na(checkin)) %>% sum()
log_tib_sep %>% group_by(session_id, Day) %>% filter(!is.na(checkin)) %>% summarise(sum(action))
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% summarise(sum(action))
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count(action)
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count(action) %>% sum(n)
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count(action)
log_tib_sep %>% group_by(session_id) %>% filter(!is.na(checkin)) %>% group_by(Day) %>% count()
View(log_tib)
unique(log_tib$action)
log_tib_sep %>% group_by(session_id) %>% filter(!is.na(checkin)) %>% filter(action == 'Visit Page') %>% group_by(Day) %>% count()
log_tib_sep %>% filter(action == 'VisitPage' & checkin == 'NA')
log_tib_sep %>% filter(action == 'VisitPage')
log_tib_sep %>% filter(action = 'VisitPage')
log_tib_sep %>% filter(action == 'VisitPage')
log_tib_sep %>% filter(action == 'visitPage')
log_tib_sep %>% filter(action == 'visitPage' & is.na(checkin))
log_tib_sep %>% filter(action == 'visitPage' & !is.na(checkin))
log_tib_sep %>% group_by(Day) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day)
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
log_tib_sep %>% group_by(Day) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(session_id, Day) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(Day) %>% filter(action == 'visitPage') %>% group_by(session_id) %>% count()
log_tib_sep %>% filter(action == 'visitPage')
log_tib_sep %>% filter(action == 'visitPage') %>% group_by(session_id) %>% count()
log_tib_sep %>% filter(action == 'visitPage') %>% group_by(session_id, Day) %>% count()
log_tib_sep %>% filter(action == 'visitPage') %>% group_by(Day, session_id) %>% count()
log_tib_sep %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
log_tib_sep %>% group_by(session_id) %>% count()
log_tib_sep %>% group_by(session_id) %>% count(action)
log_tib_sep %>% group_by(session_id, action)
log_tib_sep %>% group_by(session_id, action) %>% count()
log_tib_sep %>% group_by(session_id) %>% count(action)
help("mutate")
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% mutate('Proportion', (action == 'searchResultPage' + action == 'checkin')/action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% mutate('Proportion', sum(action != 'visitPag')/action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% mutate('Proportion', sum(action != 'visitPage')/action == 'visitPage')
x = log_tib_sep %>% group_by(session_id) %>% mutate('not visit page', action != 'visitPage')
View(x)
x = log_tib_sep %>% group_by(session_id) %>% mutate('not visit page', action != 'visitPage') %>% summarise()
View(log_tib_sep)
View(x)
x = log_tib_sep %>% group_by(session_id) %>% summarize(count(action != 'visitPage')/count(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% sum(count(action != 'visitPage')/count(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% prop(count(action != 'visitPage')/count(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% prop(count(action != 'visitPage')/count(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage')
log_tib_sep %>% group_by(session_id) %>% sum(action != 'visitPage')
log_tib_sep %>% group_by(session_id) %>% sum(count(action != 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% sum(action != 'visitPage')
help("sum")
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% sum()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% sum()
log_tib_sep %>% group_by(session_id) %>% count()
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage')
help("summarise")
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage') %>% summarise()
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage') %>% summarise_all()
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage') %>% summarise(n)
log_tib_sep %>% group_by(session_id) %>% mutate(log_tib_sep, 'proportion' = count(action == 'visitPage')/count(action != 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% mutate('proportion' = count(action == 'visitPage')/count(action != 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% mutate('proportion' = action == 'visitPage')/action != 'visitPage')
log_tib_sep %>% group_by(session_id) %>% mutate('proportion' = action == 'visitPage'/action != 'visitPage')
log_tib_sep %>% group_by(session_id) %>% count()
log_tib_sep %>% group_by(session_id) %>% count() %>% summarise(sum(n))
log_tib_sep %>% group_by(session_id) %>% count(action) %>% summarise(sum(n))
log_tib_sep %>% group_by(session_id) %>% count(action) %>% summarise(sum(n))
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage') %>% summarise(sum(n))
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage')
x = log_tib_sep %>% group_by(session_id)
count(x$action == 'visitPage')
typeof(x)
head(x)
x %>% summarize(filter(action == 'visitPage'))
x %>% filter(action == 'visitPage')
x %>% filter(action == 'visitPage') %>% count(n)
x %>% filter(action == 'visitPage') %>% summarise(n())
x %>% filter(action == 'visitPage') %>% summarise(sum())
x %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% group_by(Day)
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% summarise(n())
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% nrow(filter(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% filter(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% filter(action == 'visitPage') %>% nrow()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% nrow()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% nrow() %?% group_by(Day)
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% nrow() %>% group_by(Day)
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% nrow() %>% group_by(Day)
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% nrow()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(Day) %>% filter(action == 'visitPage') %>% group_by(session_id) %>% count()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% summarise(n())
log_tib_sep %>% group_by(Day, session_id, action) %>% summarise(n())
number_of_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% count()
number_of_visitPage
number_of_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% n() %>% group_by(Day)
number_of_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% n()
number_of_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
View(number_of_visitPage)
num_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
num_notvisitPage = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day) %>% count()
num_visitPage
num_notvisitPage
proportions_by_day = num_visitPage/num_notvisitPage
proportions_by_day = num_visitPage//num_notvisitPage
num_notvisitPage = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day) %>% count() %>% filter('.' !%in% Day)
num_notvisitPage = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day) %>% count()
num_notvisitPage[-1]
num_notvisitPage[,-1]
num_notvisitPage[-1,]
num_visitPage
num_notvisitPage = num_notvisitPage[-1,]
typeof(num_notvisitPage)
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day)
log_tib_sep %>% group_by(session_id,Day) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(session_id,Day) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
num_visitPage
num_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day,group) %>% count()
View(num_visitPage)
num_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% group_by(group) %>% count()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(group) %>% group_by(Day) %>% count()
proportions_by_day = num_visitPage/num_notvisitPage
class(num_visitPage)
proportions_by_day = num_visitPage/num_notvisitPage
proportions_by_day = num_visitPage$n/num_notvisitPage$n
mutate(num_visitPage, n/num_notvisitPage$n )
mutate(num_visitPage, n/(num_notvisitPage$n))
num_notvisitPage$n
mutate(num_visitPage, 'proportion' = n/num_notvisitPage$n )
num_visitPage$n
num_visitPage/num_notvisitPage
num_visitPage$Proportion = num_visitPage$n/num_notvisitPage$n
num_visitPage
log_tib_sep %>% group_by(Day, session_id) %>% summarise(notvisit = sum(filter(action != 'visitPage')))
log_tib_sep %>% group_by(Day, session_id) %>% summarise(count(action == 'visitPage'))
log_tib_sep %>% group_by(Day, session_id) %>% filter(action =='visitPage') %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action =='visitPage') %>% sum()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action =='visitPage') %>% summarise(sum())
log_tib_sep %>% group_by(Day, session_id)
log_tib_sep %>% group_by(Day, session_id) %>% summarise(sum())
log_tib_sep %>% group_by(Day, session_id) %>% summarise(sum(action))
log_tib_sep %>% group_by(Day, session_id) %>% summarise(count(action)))
log_tib_sep %>% group_by(Day, session_id) %>% summarise(count(action))
log_tib_sep %>% group_by(Day, session_id) %>% summarise(count())
log_tib_sep %>% group_by(Day, session_id) %>% summarise()
function (.data, ...)
log_tib_sep %>% group_by(Day, session_id) %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% summarise()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% sum()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% sum(n)
help(sum)
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% summary()
log_tib_sep %>% group_by(Day, session_id, action) %>% count()
log_tib_sep %>% group_by(session_id, Day, action)
num_visitPage
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% count()
View(log_tib_sep)
arrange(log_tib_sep$session_id)
log_tib_sep %>% group_by(session_id) %>% arrange(by_group = TRUE)
log_tib_sep %>% group_by(session_id, Day) %>% filter(action == 'visitPage') %>% count()
length(unique(log_tib_sep$session_id))
# Question 1b
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day,group) %>% count()
# Question 1b
num_vp_group = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day,group) %>% count()
num_nvp_group = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day,group) %>% count()
View(num_visitPage)
View(num_nvp_group)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib_sep = log_tib %>% separate(timestamp, c('Day', 'Time'), sep = 8)
# Question 1a
num_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
num_notvisitPage = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day) %>% count()
num_notvisitPage = num_notvisitPage[-1,]
num_visitPage$Proportion = num_visitPage$n/num_notvisitPage$n
# Question 1b
num_vp_group = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day,group) %>% count()
num_nvp_group = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day,group) %>% count()
View(num_nvp_group)
num_nvp_group = num_nvp_group[-1,]
View(num_nvp_group)
View(num_notvisitPage)
